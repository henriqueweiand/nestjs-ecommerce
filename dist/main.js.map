{"version":3,"sources":["../src/main.ts"],"sourcesContent":["import { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\nimport { EnvService } from './infra/env/env.service';\nimport { DocumentBuilder, SwaggerModule } from '@nestjs/swagger';\nimport { ValidationPipe } from '@nestjs/common';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule, {\n    snapshot: true,\n    rawBody: true,\n  })\n\n  const configService = app.get(EnvService)\n  const port = configService.get('PORT')\n\n  app.useGlobalPipes(new ValidationPipe({\n    transform: true,\n    whitelist: true,\n  }));\n\n  const config = new DocumentBuilder()\n    .setTitle('API')\n    .setVersion('0.1')\n    .build();\n  const document = SwaggerModule.createDocument(app, config);\n  SwaggerModule.setup('api', app, document);\n\n  await app.listen(port);\n}\nbootstrap();\n"],"names":["bootstrap","app","NestFactory","create","AppModule","snapshot","rawBody","configService","get","EnvService","port","useGlobalPipes","ValidationPipe","transform","whitelist","config","DocumentBuilder","setTitle","setVersion","build","document","SwaggerModule","createDocument","setup","listen"],"mappings":";;;;sBAA4B;2BACF;4BACC;yBACoB;wBAChB;AAE/B,eAAeA;IACb,MAAMC,MAAM,MAAMC,iBAAW,CAACC,MAAM,CAACC,oBAAS,EAAE;QAC9CC,UAAU;QACVC,SAAS;IACX;IAEA,MAAMC,gBAAgBN,IAAIO,GAAG,CAACC,sBAAU;IACxC,MAAMC,OAAOH,cAAcC,GAAG,CAAC;IAE/BP,IAAIU,cAAc,CAAC,IAAIC,sBAAc,CAAC;QACpCC,WAAW;QACXC,WAAW;IACb;IAEA,MAAMC,SAAS,IAAIC,wBAAe,GAC/BC,QAAQ,CAAC,OACTC,UAAU,CAAC,OACXC,KAAK;IACR,MAAMC,WAAWC,sBAAa,CAACC,cAAc,CAACrB,KAAKc;IACnDM,sBAAa,CAACE,KAAK,CAAC,OAAOtB,KAAKmB;IAEhC,MAAMnB,IAAIuB,MAAM,CAACd;AACnB;AACAV"}