{"version":3,"sources":["../../../src/infra/http/order.controller.ts"],"sourcesContent":["import { CreateOrderUseCase } from '@app/application/ecommerce/use-case/create-order';\nimport { GetOrderUseCase } from '@app/application/ecommerce/use-case/get-order';\nimport { GetOrdersUseCase } from '@app/application/ecommerce/use-case/get-orders';\nimport { HttpCacheInterceptor } from '@app/infra/persistence/cache/interceptor/http-cache.interceptor';\nimport { CacheKey } from '@nestjs/cache-manager';\nimport {\n    Body,\n    Controller,\n    Get,\n    Param,\n    Post,\n    UseInterceptors\n} from '@nestjs/common';\nimport { ApiTags } from '@nestjs/swagger';\nimport { CreateOrderDto } from './dto/create-order.dto';\n\n@Controller('/order')\n@ApiTags('Order')\nexport class OrderController {\n    constructor(\n        private createOrderUseCase: CreateOrderUseCase,\n        private getOrderUseCase: GetOrderUseCase,\n        private getOrdersUseCase: GetOrdersUseCase,\n    ) { }\n\n    @Get(':id')\n    @CacheKey('order')\n    @UseInterceptors(HttpCacheInterceptor)\n    getOne(@Param('id') id: string) {\n        const response = this.getOrderUseCase.execute(id);\n        return response;\n    }\n\n    @Get('')\n    @CacheKey('orders')\n    @UseInterceptors(HttpCacheInterceptor)\n    getAll() {\n        const response = this.getOrdersUseCase.execute({});\n        return response;\n    }\n\n    @Post('')\n    create(@Body() createOrderDto: CreateOrderDto) {\n        const response = this.createOrderUseCase.execute(createOrderDto);\n        return response;\n    }\n}\n"],"names":["OrderController","getOne","id","response","getOrderUseCase","execute","getAll","getOrdersUseCase","create","createOrderDto","createOrderUseCase","constructor","Get","CacheKey","UseInterceptors","HttpCacheInterceptor","Param","Post","Body","Controller","ApiTags"],"mappings":";;;;+BAkBaA;;;eAAAA;;;6BAlBsB;0BACH;2BACC;sCACI;8BACZ;wBAQlB;yBACiB;gCACO;;;;;;;;;;;;;;;AAIxB,IAAA,AAAMA,kBAAN,MAAMA;IAUTC,OAAO,AAAaC,EAAU,EAAE;QAC5B,MAAMC,WAAW,IAAI,CAACC,eAAe,CAACC,OAAO,CAACH;QAC9C,OAAOC;IACX;IAKAG,SAAS;QACL,MAAMH,WAAW,IAAI,CAACI,gBAAgB,CAACF,OAAO,CAAC,CAAC;QAChD,OAAOF;IACX;IAGAK,OAAO,AAAQC,cAA8B,EAAE;QAC3C,MAAMN,WAAW,IAAI,CAACO,kBAAkB,CAACL,OAAO,CAACI;QACjD,OAAON;IACX;IA1BAQ,YACI,AAAQD,kBAAsC,EAC9C,AAAQN,eAAgC,EACxC,AAAQG,gBAAkC,CAC5C;aAHUG,qBAAAA;aACAN,kBAAAA;aACAG,mBAAAA;IACR;AAuBR;;IArBKK,IAAAA,WAAG,EAAC;IACJC,IAAAA,sBAAQ,EAAC;IACTC,IAAAA,uBAAe,EAACC,0CAAoB;IAC7BC,aAAAA,IAAAA,aAAK,EAAC;;;;;;GAVLhB;;IAeRY,IAAAA,WAAG,EAAC;IACJC,IAAAA,sBAAQ,EAAC;IACTC,IAAAA,uBAAe,EAACC,0CAAoB;;;;GAjB5Bf;;IAuBRiB,IAAAA,YAAI,EAAC;IACEC,aAAAA,IAAAA,YAAI;;;eAAmB,8BAAc,4BAAd,8BAAc;;;GAxBpClB;AAAAA;IAFZmB,IAAAA,kBAAU,EAAC;IACXC,IAAAA,gBAAO,EAAC;;;eAG2B,+BAAkB,4BAAlB,+BAAkB;eACrB,yBAAe,4BAAf,yBAAe;eACd,2BAAgB,4BAAhB,2BAAgB;;GAJrCpB"}