{"version":3,"sources":["../../../src/infra/env/env.service.unit-spec.ts"],"sourcesContent":["import { Test, TestingModule } from '@nestjs/testing';\nimport { ConfigService } from '@nestjs/config';\nimport { EnvService } from './env.service';\n\ndescribe('EnvService', () => {\n  let service: EnvService;\n  let configService: ConfigService;\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        EnvService,\n        {\n          provide: ConfigService,\n          useValue: {\n            get: jest.fn(),\n          },\n        },\n      ],\n    }).compile();\n\n    service = module.get<EnvService>(EnvService);\n    configService = module.get<ConfigService>(ConfigService);\n  });\n\n  it('should be defined', () => {\n    expect(service).toBeDefined();\n  });\n\n  describe('exchangeApiKey', () => {\n    it('should return the exchangeApiKey value', () => {\n      const PORT = 3000;\n      jest.spyOn(configService, 'get').mockReturnValue(PORT);\n\n      expect(service.get('PORT')).toEqual(PORT);\n      expect(configService.get).toHaveBeenCalledWith('PORT', { infer: true });\n    });\n  });\n});\n"],"names":["describe","service","configService","beforeEach","module","Test","createTestingModule","providers","EnvService","provide","ConfigService","useValue","get","jest","fn","compile","it","expect","toBeDefined","PORT","spyOn","mockReturnValue","toEqual","toHaveBeenCalledWith","infer"],"mappings":";;;;yBAAoC;wBACN;4BACH;AAE3BA,SAAS,cAAc;IACrB,IAAIC;IACJ,IAAIC;IAEJC,WAAW;QACT,MAAMC,SAAwB,MAAMC,aAAI,CAACC,mBAAmB,CAAC;YAC3DC,WAAW;gBACTC,sBAAU;gBACV;oBACEC,SAASC,qBAAa;oBACtBC,UAAU;wBACRC,KAAKC,KAAKC,EAAE;oBACd;gBACF;aACD;QACH,GAAGC,OAAO;QAEVd,UAAUG,OAAOQ,GAAG,CAAaJ,sBAAU;QAC3CN,gBAAgBE,OAAOQ,GAAG,CAAgBF,qBAAa;IACzD;IAEAM,GAAG,qBAAqB;QACtBC,OAAOhB,SAASiB,WAAW;IAC7B;IAEAlB,SAAS,kBAAkB;QACzBgB,GAAG,0CAA0C;YAC3C,MAAMG,OAAO;YACbN,KAAKO,KAAK,CAAClB,eAAe,OAAOmB,eAAe,CAACF;YAEjDF,OAAOhB,QAAQW,GAAG,CAAC,SAASU,OAAO,CAACH;YACpCF,OAAOf,cAAcU,GAAG,EAAEW,oBAAoB,CAAC,QAAQ;gBAAEC,OAAO;YAAK;QACvE;IACF;AACF"}