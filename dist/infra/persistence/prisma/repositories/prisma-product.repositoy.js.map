{"version":3,"sources":["../../../../../src/infra/persistence/prisma/repositories/prisma-product.repositoy.ts"],"sourcesContent":["import { ProductRepository } from \"@app/application/ecommerce/ports/product.repositoy\";\nimport { Product } from \"@app/domain/ecommerce/product\";\nimport { Injectable } from \"@nestjs/common\";\nimport { PrismaProductMapper } from \"../mapper/prisma-product-mapper\";\nimport { PrismaService } from \"../prisma.service\";\n\n@Injectable()\nexport class PrismaProductRepository implements ProductRepository {\n    constructor(private prisma: PrismaService) { }\n\n    async findMany(): Promise<Product[]> {\n        const products = await this.prisma.product.findMany();\n\n        return products.map((item) => PrismaProductMapper.toDomain(item));\n    }\n\n    async create(product: Product): Promise<Product> {\n        const data = PrismaProductMapper.toPrisma(product);\n        const entity = await this.prisma.product.create({ data });\n\n        return PrismaProductMapper.toDomain(entity);\n    }\n}"],"names":["PrismaProductRepository","findMany","products","prisma","product","map","item","PrismaProductMapper","toDomain","create","data","toPrisma","entity","constructor","Injectable"],"mappings":";;;;+BAOaA;;;eAAAA;;;wBALc;qCACS;+BACN;;;;;;;;;;AAGvB,IAAA,AAAMA,0BAAN,MAAMA;IAGT,MAAMC,WAA+B;QACjC,MAAMC,WAAW,MAAM,IAAI,CAACC,MAAM,CAACC,OAAO,CAACH,QAAQ;QAEnD,OAAOC,SAASG,GAAG,CAAC,CAACC,OAASC,wCAAmB,CAACC,QAAQ,CAACF;IAC/D;IAEA,MAAMG,OAAOL,OAAgB,EAAoB;QAC7C,MAAMM,OAAOH,wCAAmB,CAACI,QAAQ,CAACP;QAC1C,MAAMQ,SAAS,MAAM,IAAI,CAACT,MAAM,CAACC,OAAO,CAACK,MAAM,CAAC;YAAEC;QAAK;QAEvD,OAAOH,wCAAmB,CAACC,QAAQ,CAACI;IACxC;IAbAC,YAAY,AAAQV,MAAqB,CAAE;aAAvBA,SAAAA;IAAyB;AAcjD;AAfaH;IADZc,IAAAA,kBAAU;;;eAEqB,4BAAa,4BAAb,4BAAa;;GADhCd"}