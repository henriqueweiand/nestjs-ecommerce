{"version":3,"sources":["../../../../../src/infra/persistence/mongoose/repositories/mongoose-product.repositoy.ts"],"sourcesContent":["import { ProductRepository } from \"@app/application/ecommerce/ports/product.repositoy\";\nimport { Product } from \"@app/domain/ecommerce/product\";\nimport { Product as ProductMongoose } from \"../entities/product.entity\";\nimport { Injectable } from \"@nestjs/common\";\nimport { MongooseProductMapper } from \"../mapper/mongoose-product-mapper\";\nimport { InjectModel } from \"@nestjs/mongoose\";\nimport { Model } from \"mongoose\";\n\n@Injectable()\nexport class MongooseProductRepository implements ProductRepository {\n    constructor(\n        @InjectModel(ProductMongoose.name) private readonly productModel: Model<ProductMongoose>,\n    ) { }\n\n    async findMany(): Promise<Product[]> {\n        const products = await this.productModel.find();\n\n        return products.map((item) => MongooseProductMapper.toDomain(item));\n    }\n\n    async create(product: Product): Promise<Product> {\n        const data = MongooseProductMapper.toMongoose(product);\n        const entity = await this.productModel.create(data);\n\n        return MongooseProductMapper.toDomain(entity);\n    }\n}"],"names":["MongooseProductRepository","findMany","products","productModel","find","map","item","MongooseProductMapper","toDomain","create","product","data","toMongoose","entity","constructor","Injectable","InjectModel","ProductMongoose","name"],"mappings":";;;;+BASaA;;;eAAAA;;;+BAP8B;wBAChB;uCACW;0BACV;2BACN;;;;;;;;;;;;;;;AAGf,IAAA,AAAMA,4BAAN,MAAMA;IAKT,MAAMC,WAA+B;QACjC,MAAMC,WAAW,MAAM,IAAI,CAACC,YAAY,CAACC,IAAI;QAE7C,OAAOF,SAASG,GAAG,CAAC,CAACC,OAASC,4CAAqB,CAACC,QAAQ,CAACF;IACjE;IAEA,MAAMG,OAAOC,OAAgB,EAAoB;QAC7C,MAAMC,OAAOJ,4CAAqB,CAACK,UAAU,CAACF;QAC9C,MAAMG,SAAS,MAAM,IAAI,CAACV,YAAY,CAACM,MAAM,CAACE;QAE9C,OAAOJ,4CAAqB,CAACC,QAAQ,CAACK;IAC1C;IAfAC,YACI,AAAoDX,YAAoC,CAC1F;aADsDA,eAAAA;IACpD;AAcR;AAjBaH;IADZe,IAAAA,kBAAU;IAGFC,aAAAA,IAAAA,qBAAW,EAACC,sBAAe,CAACC,IAAI;;;eAAiC,gBAAK,4BAAL,gBAAK;;GAFlElB"}