{"version":3,"sources":["../../../src/infra/persistence/persistence.module.ts"],"sourcesContent":["import { DynamicModule, Module } from '@nestjs/common';\nimport { MongooseModule } from './mongoose/mongoose.module';\nimport { PrismaModule } from './prisma/prisma.module';\n\ninterface DatabaseOptions {\n    type: 'prisma' | 'mongoose';\n    global?: boolean;\n}\n\n@Module({})\nexport class PersistenceModule {\n    static async register({ global = false, type }: DatabaseOptions): Promise<DynamicModule> {\n        return {\n            global,\n            module: PersistenceModule,\n            imports: [type === 'mongoose' ? MongooseModule : PrismaModule],\n            exports: [type === 'mongoose' ? MongooseModule : PrismaModule],\n        };\n    };\n}\n"],"names":["PersistenceModule","register","global","type","module","imports","MongooseModule","PrismaModule","exports","Module"],"mappings":";;;;+BAUaA;;;eAAAA;;;wBAVyB;gCACP;8BACF;;;;;;;AAQtB,IAAA,AAAMA,oBAAN,MAAMA;IACT,aAAaC,SAAS,EAAEC,SAAS,KAAK,EAAEC,IAAI,EAAmB,EAA0B;QACrF,OAAO;YACHD;YACAE,QAAQJ;YACRK,SAAS;gBAACF,SAAS,aAAaG,8BAAc,GAAGC,0BAAY;aAAC;YAC9DC,SAAS;gBAACL,SAAS,aAAaG,8BAAc,GAAGC,0BAAY;aAAC;QAClE;IACJ;AACJ;AATaP;IADZS,IAAAA,cAAM,EAAC,CAAC;GACIT"}